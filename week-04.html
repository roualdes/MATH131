
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Week 04: Filling in some details &#8212; MATH 131 -- Introduction to Python</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'week-04';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Week 05: Puting it all together" href="week-05.html" />
    <link rel="prev" title="Week 03: Graphing and aggregating" href="week-03.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="MATH 131 -- Introduction to Python - Home"/>
    <img src="_static/logo.png" class="logo__image only-dark pst-js-only" alt="MATH 131 -- Introduction to Python - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    MATH 131: Introduction to Python
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="syllabus.html">Syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="week-00.html">Week 00: Start here</a></li>
<li class="toctree-l1"><a class="reference internal" href="week-01.html">Week 01: Python basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="week-02.html">Week 02: Introduction to working with data</a></li>
<li class="toctree-l1"><a class="reference internal" href="week-03.html">Week 03: Graphing and aggregating</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Week 04: Filling in some details</a></li>
<li class="toctree-l1"><a class="reference internal" href="week-05.html">Week 05: Puting it all together</a></li>
<li class="toctree-l1"><a class="reference internal" href="and-beyond.html">Week 06 and beyond</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/roualdes/MATH131" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/roualdes/MATH131/issues/new?title=Issue%20on%20page%20%2Fweek-04.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/week-04.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Week 04: Filling in some details</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-outcomes">Learning outcomes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparation">Preparation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#graphing-details">Graphing details</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#your-own-data">Your own data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#directories">directories</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-directory-structure">visualizing directory structure</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-paths">file paths</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#delimited-files">delimited files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-in-your-own-data">read in your own data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#your-data-in-a-google-colab-notebook">your data in a Google Colab notebook</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<section class="tex2jax_ignore mathjax_ignore" id="week-04-filling-in-some-details">
<h1>Week 04: Filling in some details<a class="headerlink" href="#week-04-filling-in-some-details" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><a href="https://colab.research.google.com/drive/1FvGDi4MQxNzVOJRk6w07RWy3nnGNNF2K?usp=sharing" target="_blank">Week 04 Notes</a></p></li>
<li><p><a href="https://colab.research.google.com/drive/1pn-YYBwmYQbjf8gmVyhv2zqPrmvQ4Bxm?usp=sharing" target="_blank">Week 04 Assignment</a></p></li>
</ul>
<section id="learning-outcomes">
<h2>Learning outcomes<a class="headerlink" href="#learning-outcomes" title="Link to this heading">#</a></h2>
<p>After completing this lesson, you will be able to</p>
<ul class="simple">
<li><p>customize many aspects of plotnine plots</p></li>
<li><p>make 2d plots displaying 3 variables</p></li>
<li><p>understand the basics of file paths</p></li>
<li><p>prepare your own dataset for an analysis</p></li>
<li><p>read your own dataset into Python</p></li>
</ul>
</section>
<section id="preparation">
<h2>Preparation<a class="headerlink" href="#preparation" title="Link to this heading">#</a></h2>
<p>To follow along with this Lesson, please open the Colab notebook
<a class="reference external" href="https://colab.research.google.com/drive/1FvGDi4MQxNzVOJRk6w07RWy3nnGNNF2K?usp=sharing">Week 04 Notes</a>.  The first code cell of this notebook calls to
the remote computer, on which the notebook is running, and installs
the necessary packages.  For practice, you are repsonible for
importing the necessary packages.</p>
</section>
<section id="graphing-details">
<h2>Graphing details<a class="headerlink" href="#graphing-details" title="Link to this heading">#</a></h2>
<p>In this section, we cover some details about customizing a plotnine
plot.  This lesson will not explore all available options, nor are you
expected to memorize all the details we cover.  This lesson is
intended to be an introduction to the types of things you can easily
change on a plotnine plot.  For details and/or reference material on
computer software, you should consult the <a
href="https://plotnine.readthedocs.io/en/stable/api.html"
target="_blank">plotnine documentation</a>.</p>
<p>Let’s continue developing the plot we started at the end of <a class="reference internal" href="week-03.html#aggregating"><span class="std std-ref">Week
03</span></a>.  Our goal is to display information about the mean
total amount of sleep mamals (in our dataset) get, where the data are
grouped by their <code class="docutils literal notranslate"><span class="pre">vore</span></code> status.  This is a task for aggregating: group
by <code class="docutils literal notranslate"><span class="pre">vore</span></code> and summarize <code class="docutils literal notranslate"><span class="pre">sleep_total</span></code> with the function <code class="docutils literal notranslate"><span class="pre">np.mean</span></code>.
Since the mean of any dataset is random, as part of the random
sampling of the data, we should also calculate and display the error
in our estimate associated with the mean.  That is, we should display
a confidence interval for the mean.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">plotnine</span> <span class="k">as</span> <span class="nn">pn</span>

<span class="kn">from</span> <span class="nn">plotnine.data</span> <span class="kn">import</span> <span class="n">msleep</span>
</pre></div>
</div>
</div>
</div>
<p>After loading the appropriate Python packages, we aggregate our dataset: group
by <code class="docutils literal notranslate"><span class="pre">vore</span></code> and calculate means, by groups, of the numeric variable <code class="docutils literal notranslate"><span class="pre">sleep_total</span></code>.
Since <code class="docutils literal notranslate"><span class="pre">vore</span></code> has some missing data, we’ll drop rows of the DataFrame where
<code class="docutils literal notranslate"><span class="pre">vore</span></code> is missing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">msleep</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span> <span class="o">=</span> <span class="s2">&quot;vore&quot;</span><span class="p">)</span>

<span class="n">odf</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span>
    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;vore&quot;</span><span class="p">,</span> <span class="n">as_index</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="o">.</span><span class="n">aggregate</span><span class="p">(</span>
        <span class="n">mean</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;sleep_total&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">),</span>
        <span class="n">sd</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;sleep_total&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">),</span>
        <span class="n">count</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;sleep_total&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">size</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_2106/944327102.py:3: FutureWarning: The default of observed=False is deprecated and will be changed to True in a future version of pandas. Pass observed=False to retain current behavior or observed=True to adopt the future default and silence this warning.
/tmp/ipykernel_2106/944327102.py:3: FutureWarning: The provided callable &lt;function mean at 0x7fcef06b7dc0&gt; is currently using SeriesGroupBy.mean. In a future version of pandas, the provided callable will be used directly. To keep current behavior pass the string &quot;mean&quot; instead.
/tmp/ipykernel_2106/944327102.py:3: FutureWarning: The provided callable &lt;function std at 0x7fcef06b7ee0&gt; is currently using SeriesGroupBy.std. In a future version of pandas, the provided callable will be used directly. To keep current behavior pass the string &quot;std&quot; instead.
</pre></div>
</div>
</div>
</div>
<p>Next, we’ll calculate the lower and upper bound of the confidence interval.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">odf</span><span class="p">[</span><span class="s2">&quot;se&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;sd&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">odf</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">])</span>
<span class="n">odf</span><span class="p">[</span><span class="s2">&quot;ub&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;mean&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mf">1.96</span> <span class="o">*</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;se&quot;</span><span class="p">]</span>
<span class="n">odf</span><span class="p">[</span><span class="s2">&quot;lb&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;mean&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="mf">1.96</span> <span class="o">*</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;se&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>title</p></li>
<li><p>labels</p></li>
<li><p>other geoms: errorbar, jitter</p></li>
<li><p>change tick labels</p></li>
<li><p>re-consider bar charts</p></li>
<li><p>multivariate plotting</p></li>
</ul>
<p>Since plotnine plots are created by adding layers of information, let’s get
started by creating the variable <code class="docutils literal notranslate"><span class="pre">p</span></code> to hold our plot as we build it up piece by
piece.  Below is the code we used from <a class="reference internal" href="week-03.html#aggregating"><span class="std std-ref">Week 03</span></a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">odf</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">pn</span><span class="o">.</span><span class="n">geom_point</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;vore&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;mean&quot;</span><span class="p">),</span> <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">shape</span> <span class="o">=</span> <span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mf">2.5</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>The keyword arguments <code class="docutils literal notranslate"><span class="pre">color</span></code> and <code class="docutils literal notranslate"><span class="pre">shape</span></code>, when they appear inside a
<code class="docutils literal notranslate"><span class="pre">geom_</span></code> layer and outside of <code class="docutils literal notranslate"><span class="pre">aes</span></code>, take just one color and one shape.
Because plotnine is built on top of other Python packages, <a
href="https://matplotlib.org/stable/" target="_blank">matplotlib</a>
specifically, finding the available colors and shapes can be tricky.
Here are links to the <a
href="https://matplotlib.org/stable/gallery/color/named_colors.html#base-colors"
target="_blank">matplotlib named colors</a> and the <a
href="https://matplotlib.org/stable/api/markers_api.html#module-matplotlib.markers"
target="_blank">matplotlib available shapes</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/604d77e8e686cbe9c2cbcdc2b5c2712d42e48f48be99e7bbedf92e47fd4909b5.png" src="_images/604d77e8e686cbe9c2cbcdc2b5c2712d42e48f48be99e7bbedf92e47fd4909b5.png" />
</div>
</div>
<p>So far, we have “X”s for means for each group.  No confidence intervals, no
group names (just numbers representing their group names), no original data, and
no plot title.  And maybe we want to change the axis labels.  Let’s take each of
these in turn.  We leave it to the reader to display the plot after each update,
if they so choose.  We’ll show the complete plot only at the end of all of our
updates.</p>
<p>Let’s add the confidence interval, useing the <code class="docutils literal notranslate"><span class="pre">geom_errorbar</span></code> layer.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">+=</span> <span class="n">pn</span><span class="o">.</span><span class="n">geom_linerange</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;vore&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">,</span> <span class="n">ymin</span> <span class="o">=</span> <span class="s2">&quot;lb&quot;</span><span class="p">,</span> <span class="n">ymax</span> <span class="o">=</span> <span class="s2">&quot;ub&quot;</span><span class="p">),</span> <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;blue&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The syntax <code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">+=</span> <span class="pre">expression</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">=</span> <span class="pre">p</span> <span class="pre">+</span> <span class="pre">expression</span></code>.  It
certainly takes some time to get used to, but it also very convenient.  For all
of the layers we are interested in adding on to our plot <code class="docutils literal notranslate"><span class="pre">p</span></code>, we just want to
update <code class="docutils literal notranslate"><span class="pre">p</span></code> to hold the latest version of our plot.  There is no sense in keeping
around the previous version of our plot.  So this syntax is just what we want.</p>
<p>Next, let’s add the original data.  Putting the original data on a plot is
increasingly popular and always recommended.  It helps you and your reader
understand the variation in your data, and will often help explain why one (or
more) groups may appear different.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">+=</span> <span class="n">pn</span><span class="o">.</span><span class="n">geom_jitter</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>              <span class="c1"># notice the change in dataset</span>
    <span class="n">pn</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;vore&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">,</span> <span class="c1"># unique numeric codes of the labels in vore</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;sleep_total&quot;</span><span class="p">,</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;vore&quot;</span><span class="p">),</span>
    <span class="n">width</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">,</span>                    <span class="c1"># the maximal width of horizontal noise/jitter</span>
    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.5</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The layer <code class="docutils literal notranslate"><span class="pre">geom_jitter</span></code> is like <code class="docutils literal notranslate"><span class="pre">geom_point</span></code> but adds a bit of horizontal noise/jitter
in the x-axis.  Since the x-axis of this plot is <code class="docutils literal notranslate"><span class="pre">vore</span></code> status, and not actually
numbers adding horizontal noise doesn’t change the information in the data at
all.  For each category of <code class="docutils literal notranslate"><span class="pre">vore</span></code>, the numeric values on the y-axis is where the
information in the data are contained.</p>
<p>By specifying a categorical variable for the keyword argument <code class="docutils literal notranslate"><span class="pre">color</span></code> within
<code class="docutils literal notranslate"><span class="pre">aes</span></code>, the jittered points will show up in unique colors for each category of
the variable specified, <code class="docutils literal notranslate"><span class="pre">vore</span></code> in this case.  Further, a legend will
automatically be displayed.  Changing the category names of the variable <code class="docutils literal notranslate"><span class="pre">vore</span></code> is
best done by renaming the categories, as in <a class="reference internal" href="week-02.html#categorical-variables"><span class="std std-ref">Week 02: Categorical
variables</span></a>, but we can easily change the
legend title from plotnine.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">+=</span> <span class="n">pn</span><span class="o">.</span><span class="n">guides</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">pn</span><span class="o">.</span><span class="n">guide_legend</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Vore status&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>To remind your readers, and future-you, that the x-axis here is a categorical
variable, let’s change the tick labels to better represent what information they
actually contain.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">+=</span> <span class="n">pn</span><span class="o">.</span><span class="n">scale_x_continuous</span><span class="p">(</span>                  <span class="c1"># continuous x-axis scale based on numeric codes of vore</span>
    <span class="n">breaks</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;vore&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="c1"># breaks dictate where on the x-axis, a list of numeric values</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;vore&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>            <span class="c1"># list of labels at breaks</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Next, let’s change the axis labels and title.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">+=</span> <span class="n">pn</span><span class="o">.</span><span class="n">labs</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;Vore status&quot;</span><span class="p">,</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;Sleep (hours)&quot;</span><span class="p">,</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Hours of sleep by vore status&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Last, let’s change the plot theme and font size, just to show that you can.
Actually, I much prefer simpler themes, so as to highlight the data instead of
the plot theme.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">+=</span> <span class="n">pn</span><span class="o">.</span><span class="n">theme_minimal</span><span class="p">(</span><span class="n">base_size</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ed5ec36a65e13e9b2c616ec57b8c1b7467686513b8b4afd433365bf6c575b3c9.png" src="_images/ed5ec36a65e13e9b2c616ec57b8c1b7467686513b8b4afd433365bf6c575b3c9.png" />
</div>
</div>
<p>Some final thoughts on the plot above.  I’d prefer the confidence intervals not
be blue.  The default black would probably be better, but then I wouldn’t have
been able to tell you more about the keyword argument <code class="docutils literal notranslate"><span class="pre">color</span></code>.</p>
<p>The units of your variables show up in your plots, to inform you reader, but do
now show up in your variable names.</p>
<p>The categories for <code class="docutils literal notranslate"><span class="pre">vore</span></code> should be changed.  Using abbreviations in your
writing and/or plots is usually not helpful to anyone but you.  There are ways
to change the categories through plotnine, instead of by changing your
DataFrame.  I don’t recommend this.  There’s little to no reason to use
abbreviations for label names.</p>
<p>Some people would have reached for <code class="docutils literal notranslate"><span class="pre">geom_errorbar</span></code> before <code class="docutils literal notranslate"><span class="pre">geom_linerange</span></code>.  The
difference is a pair of horizontal lines on the top and bottom of the confidence
intervals.  I see the appeal of this, but prefer the minimalism of
<code class="docutils literal notranslate"><span class="pre">geom_linerange</span></code>.</p>
<p>For a hot minute, people were debating whether or not standard deviations or
standard errors were better, when drawing lines extending from a mean as we have
done here.  The correct answer is it depends.  If you want to talk about means
across groups, then use standard errors.  If you want to talk about population
distributions across groups, then your data should at least be roughly
symmetric, and then use standard deviations.  If on the other hand you want to
show off your plotting skills, use both.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">odf</span><span class="p">[</span><span class="s2">&quot;sd_ub&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;mean&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;sd&quot;</span><span class="p">]</span>
<span class="n">odf</span><span class="p">[</span><span class="s2">&quot;sd_lb&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;mean&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;sd&quot;</span><span class="p">]</span>

<span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span> <span class="o">+</span> <span class="n">pn</span><span class="o">.</span><span class="n">geom_linerange</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;vore&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">,</span> <span class="n">ymin</span> <span class="o">=</span> <span class="s2">&quot;lb&quot;</span><span class="p">,</span> <span class="n">ymax</span> <span class="o">=</span> <span class="s2">&quot;ub&quot;</span><span class="p">),</span> <span class="n">size</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">pn</span><span class="o">.</span><span class="n">geom_linerange</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="s2">&quot;vore&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">,</span> <span class="n">ymin</span> <span class="o">=</span> <span class="s2">&quot;sd_lb&quot;</span><span class="p">,</span> <span class="n">ymax</span> <span class="o">=</span> <span class="s2">&quot;sd_ub&quot;</span><span class="p">)))</span>
<span class="n">p</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e5d5e17698cd3855fbc22a18200827ebb645370838c07f12783e9be51cbfdecf.png" src="_images/e5d5e17698cd3855fbc22a18200827ebb645370838c07f12783e9be51cbfdecf.png" />
</div>
</div>
</section>
<section id="your-own-data">
<h2>Your own data<a class="headerlink" href="#your-own-data" title="Link to this heading">#</a></h2>
<p>In this section, we’ll learn about where/how files, such as a dataset,
are stored on your computer and how to properly enter data into a
spreadsheet for later data analyses.  We begin with understanding
<strong>file paths</strong>.  File paths are not Python specific.  A file path is
like the URL of a specific file on your computer.  Each file on your
computer has an address and that address is called a file path.</p>
<p>So far we’ve relied on a dataset that already exists on your machine.
The main reason behind this is that file paths can be confusing at
first.  And so we’ve delayed this topic until near the end.
Invariably, though, you will need to load your own dataset.</p>
<section id="directories">
<h3>directories<a class="headerlink" href="#directories" title="Link to this heading">#</a></h3>
<p>All computers organize their files in <strong>directories</strong>, which are sometimes
called <strong>folders</strong>.  Think of a directory as a specific drawer in which
logically grouped files go.</p>
<p>Whenever you login to a computer, you should imagine that you are immediately
(as if standing) within one of the many directories of that machine.  Whichever
directory you are currently in is called the <strong>current working directory</strong>.
Sometimes the current working directory is abbreviated <strong>cwd</strong> or even just
<strong>wd</strong>.  The current working directory is written <code class="docutils literal notranslate"><span class="pre">.</span></code>.</p>
<p>From the current working directory, you can move up or down the directory
hierachry.  Which is to say directories can contain other directories, and
chances are good the current working directory is located within another
directory.  The root of the directory tree is called the <strong>root directory</strong>.</p>
<p>Each user on a computer has their own directory, which is a (not necessarily
immediate) child of the root directory.  Such a directory, unique to each user
of a computer, is called their <strong>home directory</strong>.</p>
<p>Every file and every folder on a computer has exactly one parent directory.  The
parent directory is spelled <code class="docutils literal notranslate"><span class="pre">..</span></code>.</p>
</section>
<section id="visualizing-directory-structure">
<h3>visualizing directory structure<a class="headerlink" href="#visualizing-directory-structure" title="Link to this heading">#</a></h3>
<p>There are many different ways to visualize directory structure.  On a
Mac, the application Finder, and on Windows machines File Explorer,
both help users navigate files and directory structure.  A more
~~basic~~ traditional way to visualize directory structure is with the
command <code class="docutils literal notranslate"><span class="pre">tree</span></code>.</p>
<p>From a Colab notebook, one can access the remote computer, on which the notebook
is running, by prepending an appropriate command with <code class="docutils literal notranslate"><span class="pre">!</span></code>, read as bang.  The
command <code class="docutils literal notranslate"><span class="pre">pwd</span></code> prints the current working directory.  The command <code class="docutils literal notranslate"><span class="pre">tree</span></code> prints
the directory structure below its one argument, a file path.</p>
<p>For instance, the command <code class="docutils literal notranslate"><span class="pre">tree</span> <span class="pre">.</span></code>, where <code class="docutils literal notranslate"><span class="pre">.</span></code> represents the current working
directory, will print the contents of the current working directory all the way
down to the children files contained within any and all sub-directories.</p>
<p><code class="docutils literal notranslate"><span class="pre">tree</span></code> indents sub-directories and contained files relative to their parent
directory.  In addition to indents, <code class="docutils literal notranslate"><span class="pre">tree</span></code> makes use of vertical and
horizontal lines to help your eye better visualize where the directory
boundaries are.</p>
</section>
<section id="file-paths">
<h3>file paths<a class="headerlink" href="#file-paths" title="Link to this heading">#</a></h3>
<p>Every directory on a computer is referenced by a file path (an
address).  Directories are separated by a forward slash <code class="docutils literal notranslate"><span class="pre">/</span></code>, as is
each file name.  Imagine a dataset named <code class="docutils literal notranslate"><span class="pre">bike.csv</span></code> contained in a
series of directories <code class="docutils literal notranslate"><span class="pre">math131</span></code> and <code class="docutils literal notranslate"><span class="pre">data</span></code>.  Such a file would have
file path <code class="docutils literal notranslate"><span class="pre">./math131/data/bike.csv</span></code>.  This file path tells us that we
are in a directory <code class="docutils literal notranslate"><span class="pre">.</span></code>, which contains a directory named <code class="docutils literal notranslate"><span class="pre">math131</span></code>.
The directory <code class="docutils literal notranslate"><span class="pre">math131</span></code> itself contains a directory named <code class="docutils literal notranslate"><span class="pre">data</span></code>, and
the directory <code class="docutils literal notranslate"><span class="pre">data</span></code> contains a file named <code class="docutils literal notranslate"><span class="pre">bike.csv</span></code>.  We will learn
about the file extension <code class="docutils literal notranslate"><span class="pre">.csv</span></code> in the next sub-section.</p>
<p>File paths that begin with <code class="docutils literal notranslate"><span class="pre">.</span></code> or <code class="docutils literal notranslate"><span class="pre">..</span></code> are called <strong>relative file
paths</strong>.  Such file paths are relative to the current working
directory.  File paths that begin with the root directory are called
<strong>absolute file paths</strong>.  For the most part, we will encourage use of
relative file paths.</p>
</section>
<section id="delimited-files">
<h3>delimited files<a class="headerlink" href="#delimited-files" title="Link to this heading">#</a></h3>
<p>We next look at the ways in which most small to medium sized datasets are
organized.  Any larger datasets should use a database and databases are beyond
this course.  Consider the following table of data.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>type</p></th>
<th class="head"><p>size</p></th>
<th class="head"><p>color</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>trouser</p></td>
<td><p>6</p></td>
<td><p>black</p></td>
</tr>
<tr class="row-odd"><td><p>dress</p></td>
<td><p>8</p></td>
<td><p>blue</p></td>
</tr>
<tr class="row-even"><td><p>sneaker</p></td>
<td><p>7</p></td>
<td><p>silver</p></td>
</tr>
<tr class="row-odd"><td><p>ankle boot</p></td>
<td><p>8</p></td>
<td><p>brown</p></td>
</tr>
<tr class="row-even"><td><p>coat</p></td>
<td><p>44</p></td>
<td><p>green</p></td>
</tr>
<tr class="row-odd"><td><p>sandal</p></td>
<td><p>9</p></td>
<td><p>black</p></td>
</tr>
</tbody>
</table>
</div>
<p>A table of data is often called <strong>tabular data</strong>.  Tabular data are organized in
rows and columns.  Each row is an observation, or separate unit of analysis, and
each column is a variable.  Variable names show up in the first, or zero-th row,
and the data are in all subsequent rows.</p>
<p>Such a dataset is often stored in a <strong>delimited file</strong>.  Within a row,
a delimited file separates, or delimits, each variable’s value with a
special character.  The most common delimiters are comma <code class="docutils literal notranslate"><span class="pre">,</span></code> or some
amount of white space, a single space <code class="docutils literal notranslate"> </code>, or a tab spelled <code class="docutils literal notranslate"><span class="pre">\t</span></code> and
often written as visually equivalent to four or eight spaces.  Each
has its own faults.  The world has mostly settled on comma separated
values, hence <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file extensions.</p>
<p>Comma separated values would list in a text file the row for trouser
as <code class="docutils literal notranslate"><span class="pre">trouser,6,black</span></code>.  A file of tabular data such as this would have
file extention <code class="docutils literal notranslate"><span class="pre">.csv</span></code>, which helps quickly identify the type of file.
In a .csv file, the entire table of data above would look as follows.</p>
<div class="cell tag_raises-exception tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">,</span><span class="n">size</span><span class="p">,</span><span class="n">color</span>
<span class="n">trouser</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="n">black</span>
<span class="n">dress</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="n">blue</span>
<span class="n">sneaker</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="n">silver</span>
<span class="n">ankle</span> <span class="n">boot</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="n">brown</span>
<span class="n">coat</span><span class="p">,</span><span class="mi">44</span><span class="p">,</span><span class="n">green</span>
<span class="n">sandal</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="n">black</span>
</pre></div>
</div>
</div>
</div>
<p>There are some simple problems with csv files.  Imagine a dataset that contains
as values sentences, specifically sentences which possibly contain commas.
Here’s an example: <code class="docutils literal notranslate"><span class="pre">For</span> <span class="pre">instance,</span> <span class="pre">this</span> <span class="pre">sentence.</span></code>.  To avoid the comma within a
variable’s value being conflated with a delimiting comma, people have started
surrounding individual variable values with double quotes.  Double quotes is not
the only choice, but it is the common choice for a quote character.</p>
<p>Now imagine a dataset that contains as values strings with double quotes in
them.  There’s solutions to this problem, too: escape characters.  The most
common espace character is a back slash <code class="docutils literal notranslate"><span class="pre">\</span></code>.</p>
<p>As you can see, in extreme cases csv files are challenging to get
right.  So are tab delimited files, <code class="docutils literal notranslate"><span class="pre">.tsv</span></code>, for similar reasons.  We
generally rely spreadsheet software and mature programming packages,
like the Python package Pandas, to simplify our lives for writing and
reading delimited files..</p>
<p>The Python package Pandas function named <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> should be used to read in
your own data.  The function <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> defaults to a comma as delimiter, double
quotes as quote character, and back slash <code class="docutils literal notranslate"><span class="pre">\</span></code> as an escape character.  It is
thus your job to get your data into a csv file appropriately.  The easiest
solution is to type your data into a spreadsheet and then export your
spreadsheet data into csv format.</p>
</section>
<section id="read-in-your-own-data">
<h3>read in your own data<a class="headerlink" href="#read-in-your-own-data" title="Link to this heading">#</a></h3>
<p>This whole section is prep-work.  Once you understand file paths and
have entered your data into a delimeted file structure (.csv, .tsv, or
otherwise), the Python package Pandas makes reading in the data
relatively simple.  The code below is an example of reading in a .csv
file into a DataFrame, just as we worked with beginning in Week 01.</p>
<div class="cell tag_raises-exception tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./path/to/your/data.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="your-data-in-a-google-colab-notebook">
<h4>your data in a Google Colab notebook<a class="headerlink" href="#your-data-in-a-google-colab-notebook" title="Link to this heading">#</a></h4>
<p>When dealing with your own data while working in a Google Colab
notebook, you have to remember that the computer on which your
notebook runs is not the computer in front of you.  This means, to
read data into Python, you need to <em>upload</em> any dataset onto the Colab
notebook computer.</p>
<p>To upload a dataset to the notebook computer, click on the folder
looking icon, <span class="material-symbols-outlined">folder</span>,
near the top left of the Colab notebook within your browser.
Confusingly, the tooltip you get when hovering over the folder icon
reads Files. Then click the upload file icon, <span
class="material-symbols-outlined">upload_file</span>, to upload the
dataset you want.</p>
<p>Let’s say the file you uploaded is named <code class="docutils literal notranslate"><span class="pre">research_data.csv</span></code>. If
upload your dataset into the current working directory on the notebook
computer, then the file path will be <code class="docutils literal notranslate"><span class="pre">./research_data.csv</span></code>, and the
code to read this file into Python, using Pandas, is</p>
<div class="cell tag_raises-exception tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./research_data.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>If, before uploading your dataset, you created a new directory named
<code class="docutils literal notranslate"><span class="pre">data</span></code>, and then you uploaded <code class="docutils literal notranslate"><span class="pre">research_data.csv</span></code> into the directory
<code class="docutils literal notranslate"><span class="pre">data</span></code>, the file path will be <code class="docutils literal notranslate"><span class="pre">./data/research_data.csv</span></code>, and the code
to read this file into Python, using Pandas, is</p>
<div class="cell tag_raises-exception tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./data/research_data.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a href="https://colab.research.google.com/drive/1pn-YYBwmYQbjf8gmVyhv2zqPrmvQ4Bxm?usp=sharing" target="_blank">Week 04 Assignment</a></p>
</div>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="week-03.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Week 03: Graphing and aggregating</p>
      </div>
    </a>
    <a class="right-next"
       href="week-05.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Week 05: Puting it all together</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-outcomes">Learning outcomes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparation">Preparation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#graphing-details">Graphing details</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#your-own-data">Your own data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#directories">directories</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-directory-structure">visualizing directory structure</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-paths">file paths</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#delimited-files">delimited files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-in-your-own-data">read in your own data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#your-data-in-a-google-colab-notebook">your data in a Google Colab notebook</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Edward A. Roualdes
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <br>
<p>The vast majority of this content was developed based on, or directly copied from, Drs. Robin Donatello and Nicholas Lytal's <a href="https://norcalbiostat.github.io/MATH130/index.html">MATH 130: Introduciton to R</a> course.</p>
<br>
<p>This work is licensed under a <a href="https://creativecommons.org/publicdomain/zero/1.0/">Creative Commons Zero license</a>.</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>